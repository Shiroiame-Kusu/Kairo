<Window xmlns="https://github.com/avaloniaui"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:vm="clr-namespace:Kairo.ViewModels"
        x:Class="Kairo.Components.NodePingWindow"
        x:CompileBindings="True"
        x:DataType="vm:NodePingWindowViewModel"
        Title="节点延迟" Width="550" Height="480" WindowStartupLocation="CenterOwner">
  <Grid RowDefinitions="Auto,*,Auto" Margin="12">
    <TextBlock Text="每秒刷新一次各节点的延迟值" Margin="0,0,0,8"/>
    <DataGrid Grid.Row="1" AutoGenerateColumns="False"
              HeadersVisibility="Column" IsReadOnly="True" ItemsSource="{Binding Rows}">
      <DataGrid.Columns>
        <DataGridTextColumn Header="节点" Binding="{Binding Node}" Width="80"
                             x:DataType="vm:NodePingRow"/>
        <DataGridTextColumn Header="主机" Binding="{Binding Host}" Width="*"
                             x:DataType="vm:NodePingRow"/>
        <DataGridTextColumn Header="延迟(ms)" Binding="{Binding LatencyDisplay}" Width="120"
                             x:DataType="vm:NodePingRow"/>
        <DataGridTextColumn Header="状态" Binding="{Binding Status}" Width="120"
                             x:DataType="vm:NodePingRow"/>
      </DataGrid.Columns>
    </DataGrid>
    <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Spacing="8">
      <TextBlock VerticalAlignment="Center" Foreground="Gray" Text="{Binding StatusText}"/>
      <Button Content="关闭" Command="{Binding CloseCommand}"/>
    </StackPanel>
  </Grid>
</Window>
