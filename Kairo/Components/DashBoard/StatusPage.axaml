<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:Kairo.ViewModels"
             xmlns:conv="clr-namespace:Kairo.Utils.Converters"
             x:Class="Kairo.Components.DashBoard.StatusPage"
             x:DataType="vm:StatusPageViewModel">
  <UserControl.Resources>
    <conv:LogLineToControlConverter x:Key="LogLineToControlConverter" />
    <DataTemplate x:Key="LogLineTemplate" x:DataType="vm:LogEntry">
      <ContentControl Content="{Binding Converter={StaticResource LogLineToControlConverter}}" />
    </DataTemplate>
  </UserControl.Resources>
  <Grid Margin="12" RowDefinitions="*,Auto">
    <Border Grid.Row="0" CornerRadius="8" Background="{DynamicResource LayerFillColorDefaultBrush}" Padding="8">
      <ScrollViewer x:Name="LogScroll">
        <ItemsControl ItemsSource="{Binding Lines}" ItemTemplate="{StaticResource LogLineTemplate}" />
      </ScrollViewer>
    </Border>
    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Left" Spacing="12" Margin="0,12,0,0">
      <Button Content="强制结束所有隧道" Command="{Binding StopAllCommand}" />
    </StackPanel>
  </Grid>
</UserControl>
